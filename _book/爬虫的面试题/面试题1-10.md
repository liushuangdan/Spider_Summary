
面试题
===
---
### 1.常见的反爬虫机制有哪些？

1. 通过headers反爬虫
2. 基于用户行为的发爬虫：(同一IP短时间内访问的频率)
3. 动态网页反爬虫(通过ajax请求数据，或者通过JavaScript生成)
4. 对部分数据进行加密处理的(数据是乱码)
5. 对数据进行处理，例如网页模板，每几个换一套模板，每几个数据换一套模板。(可以得到数据，但是有些数据获取不到)

### 解决方案：

1. 伪装user agent
2. 使用代理
3. 降低访问频率
4. 动态爬取数据，模拟用户行为；或通过ajax请求进行模拟。
5. 爬取数据时对网页模板进行处理，做判断，如果是这样一套模板做怎么样的处理，如果是另一套模板做什么样的处理。

---

### 2.如何提高爬取效率？

 爬虫下载慢主要原因是阻塞等待发往网站的请求和网站返回；

1. 爬取方面，利用异步io。2.处理方面，利用消息队列做生产者消费者模型

1. 采用异步与多线程，扩大，电脑的cpu利用率；

1. 采用消息队列模式

1. 提高带宽

---


### 3.列举几个常用的dom解析项目、插件
 xpath，xml

xml、libxml2 、lxml 、xpath

---


### 4. robots协议是什么？
 Robots协议（也称为爬虫协议、爬虫规则、机器人协议等）也就是robots.txt，网站通过robots协议告诉搜索引擎哪些页面可以抓取，哪些页面不能抓取。

Robots协议是网站国际互联网界通行的道德规范，其目的是保护网站数据和敏感信息、确保用户个人信息和隐私不被侵犯。因其不是命令，故需要搜索引擎自觉遵守。

---
### 5.http协议头中，keep-alive字段有什么作用？
HTTP协议采用“请求-应答”模式，当使用普通模式，即非KeepAlive模式时，每个请求/应答客户和服务器都要新建一个连接，完成 之后立即断开连接（HTTP协议为无连接的协议）；

当使用Keep-Alive模式（又称持久连接、连接重用）时，Keep-Alive功能使客户端到服 务器端的连接持续有效，当出现对服务器的后继请求时，Keep-Alive功能避免了建立或者重新建立连接。

通过使用keep-alive机制，可以减少tcp连接建立次数，也意味着可以减少TIME_WAIT状态连接，以此提高性能和提高httpd服务器的吞吐率(更少的tcp连接意味着更少的系统内核调用,socket的accept()和close()调用)。

---

### 6.域名和IP之间有什么关系，如何查看某个域名对应的所有IP？

国际互联网(Internet)上有成千百万台主机（host），为了区分这些主机，人们给每台主机都分配了一个专门的“地址”作为标识，称为IP地址

由于IP地址全是些的数字，为了便于用户记忆，Internet上引进了域名服务系统DNS（Domain Name System）。

当您键入某个域名的时候，这个信息首先到达提供此域名解析的服务器上，再将此域名解析为相应网站的IP地址。完成这一任务的过程就称为域名解析。

1. ping  
2. nslookup 
3. 使用站长工具等

在互联网上有成千上万的主机，为了区分这些主机，为每一个主机分配了IP,而IP全是数字，为了方便人们记忆，生成了域名，

Ping;站长工具

---

###7.http、https协议有什么区别？

 https 相对于http 来说对于网页更安全；

http协议是超文本传输协议，被用于在web浏览器和网站服务器之间传递信息。http协议工作是以明文方式发送内容，不提供任何形式的数据加密，而这也是很容易被黑客利用的地方，如果黑客截取了web浏览器和网站服务器之间的传输信息，就可以直接读懂其中的信息，因此http协议不适合传输一些重要的、敏感的信息，比如信用卡密码及支付验证码等。

安全套接字层https协议就是为了解决http协议的这一安全缺陷而出生的，为了数据传输的安全，https在http的基础上加入了ssl协议，ssl依靠证书来验证服务器的身份，为浏览器和服务器之间的通信加密，这样的话即使黑客借去了发送过程中的信息，也无法破解读懂它，我们网站及用户的信息便得到了最大的安全保障。

 

https协议需要到ca申请证书，一般免费证书很少，需要费用。

http是超文本传输协议，信息是明文传输，https 则是具有安全性的ssl加密传输协议

http和https使用的是完全不同的连接方式用的端口也不一样,前者是80,后者是443。

http的连接很简单,是无状态的， HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议 要比http协议安全

http是超文本传输协议，信息明文传输；https是http与ssl加密传输的

http连接的端口应用的是80；https连接的端口应用443

http连接无状态；而https连接是应用http与ssl协议进行连接，可以进行加密传输与身份验证等服务，比http更加安全

---

### 8.post、get有什么区别？

1. 根据HTTP规范，GET一般用于获取/查询资源信息，应该是安全的和幂等。而POST一般用于更新资源信息
2. get是在url中传递数据，数据放在请求头中。 post是在请求体中传递数据
3. get传送的数据量较小，只能在请求头上发送数据。post传送的数据量较大，一般被默认为不受限制。
4. get安全性非常低，post安全性较高。但是执行效率却比Post方法好。

建议：
1. get方式的安全性较Post方式要差些，包含机密信息的话，建议用Post数据提交方式；
2. 在做数据查询时，建议用Get方式；而在做数据添加、修改或删除时，建议用Post方式；

Get 在url中传递数据，数据信息放在请求头中；而post请求信息放在请求体中进行传递数据；get传输数据的数据量较小，只能在请求头中发送数据。

Post传输数据信息比较大，一般不受限制；

Get数据传输安全性低，post传输数据安全性高

在执行效率来说，get比post好

---

### 9.列举您使用过的python网络爬虫所用到的网络数据包（最熟悉的在前）
 requests,urllib

---

### 10.列举您使用过的python网络爬虫所用到的解析数据包（最熟悉的在前）：
 xpath,re, beautifulsoup

---
### 列举您使用过的python中的编码方式（最熟悉的在前）：
 utf-8,gbk
 
 ---
